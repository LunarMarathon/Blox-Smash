const _0x2f9f=['board','addEventListener','random','fillStyle','tetromino','abs','transparent','color','784365WJluDu','61ZGzIgk','1YXOOFg','moveLeft','gameCanvas','168058ylZvve','rgb(248,\x20232,\x20232)','piece','GameArea','keydown','now','width','touchstart','innerHTML','keyCode','clearRect','Clear','rotate','floor','height','getContext','activeTetromino','click','tetrominoN','fillRect','getElementById','756950nlksjY','1959106RoeVcK','draw','rgb(245,\x2094,\x20144)','yellow','lockPiece','clientY','strokeStyle','moveDown','touches','clientX','clear','moveRight','length','strokeRect','collide','4217oEcKXA','154165DMICHD','101ZJvOXR','black','rgb(121,\x20236,\x20240)','preventDefault','touchmove','7199kiozyp'];const _0x255c80=_0x448c;(function(_0x1f6766,_0x396c1c){const _0xdbd6a=_0x448c;while(!![]){try{const _0x14f9b3=-parseInt(_0xdbd6a(0x18e))*-parseInt(_0xdbd6a(0x15e))+-parseInt(_0xdbd6a(0x187))*parseInt(_0xdbd6a(0x189))+-parseInt(_0xdbd6a(0x162))*parseInt(_0xdbd6a(0x15f))+-parseInt(_0xdbd6a(0x177))+-parseInt(_0xdbd6a(0x15d))+parseInt(_0xdbd6a(0x188))+parseInt(_0xdbd6a(0x178));if(_0x14f9b3===_0x396c1c)break;else _0x1f6766['push'](_0x1f6766['shift']());}catch(_0x523dbb){_0x1f6766['push'](_0x1f6766['shift']());}}}(_0x2f9f,0x65d60));const canvas=document[_0x255c80(0x176)](_0x255c80(0x161)),ctx=canvas[_0x255c80(0x171)]('2d'),preview=document[_0x255c80(0x176)]('preCanvas'),pre=preview[_0x255c80(0x171)]('2d'),I=[[[0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],[[0x0,0x0,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x1,0x0]],[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0]],[[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0]]],J=[[[0x1,0x0,0x0],[0x1,0x1,0x1],[0x0,0x0,0x0]],[[0x0,0x1,0x1],[0x0,0x1,0x0],[0x0,0x1,0x0]],[[0x0,0x0,0x0],[0x1,0x1,0x1],[0x0,0x0,0x1]],[[0x0,0x1,0x0],[0x0,0x1,0x0],[0x1,0x1,0x0]]],L=[[[0x0,0x0,0x1],[0x1,0x1,0x1],[0x0,0x0,0x0]],[[0x0,0x1,0x0],[0x0,0x1,0x0],[0x0,0x1,0x1]],[[0x0,0x0,0x0],[0x1,0x1,0x1],[0x1,0x0,0x0]],[[0x1,0x1,0x0],[0x0,0x1,0x0],[0x0,0x1,0x0]]],O=[[[0x0,0x0,0x0,0x0],[0x0,0x1,0x1,0x0],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0]]],S=[[[0x0,0x1,0x1],[0x1,0x1,0x0],[0x0,0x0,0x0]],[[0x0,0x1,0x0],[0x0,0x1,0x1],[0x0,0x0,0x1]],[[0x0,0x0,0x0],[0x0,0x1,0x1],[0x1,0x1,0x0]],[[0x1,0x0,0x0],[0x1,0x1,0x0],[0x0,0x1,0x0]]],T=[[[0x0,0x1,0x0],[0x1,0x1,0x1],[0x0,0x0,0x0]],[[0x0,0x1,0x0],[0x0,0x1,0x1],[0x0,0x1,0x0]],[[0x0,0x0,0x0],[0x1,0x1,0x1],[0x0,0x1,0x0]],[[0x0,0x1,0x0],[0x1,0x1,0x0],[0x0,0x1,0x0]]],Z=[[[0x1,0x1,0x0],[0x0,0x1,0x1],[0x0,0x0,0x0]],[[0x0,0x0,0x1],[0x0,0x1,0x1],[0x0,0x1,0x0]],[[0x0,0x0,0x0],[0x1,0x1,0x0],[0x0,0x1,0x1]],[[0x0,0x1,0x0],[0x1,0x1,0x0],[0x1,0x0,0x0]]],ROW=0x14,COL=0xa,SQ=0x1e;function drawSquare(_0x34a35f,_0x45d0ec,_0x3d83c0,_0x33120f){const _0xe2a376=_0x255c80;_0x33120f===_0xe2a376(0x164)?(ctx['fillStyle']=_0x3d83c0,ctx[_0xe2a376(0x175)](_0x34a35f*SQ,_0x45d0ec*SQ,SQ,SQ),ctx[_0xe2a376(0x17e)]=_0xe2a376(0x18a),ctx[_0xe2a376(0x185)](_0x34a35f*SQ+0x1,_0x45d0ec*SQ+0x1,SQ-0x2,SQ-0x2)):(ctx[_0xe2a376(0x158)]=_0x3d83c0,ctx[_0xe2a376(0x175)](_0x34a35f*SQ,_0x45d0ec*SQ,SQ,SQ));};function clearSquare(_0x3285c2,_0x4cc639){const _0xbe98b7=_0x255c80;ctx[_0xbe98b7(0x16c)](_0x3285c2*SQ,_0x4cc639*SQ,SQ,SQ);}const VACANT=_0x255c80(0x15b);let board=[];function _0x448c(_0xfc3fdf,_0xe824c0){_0xfc3fdf=_0xfc3fdf-0x158;let _0x2f9fcf=_0x2f9f[_0xfc3fdf];return _0x2f9fcf;}for(let r=0x0;r<ROW;r++){board[r]=[];for(let c=0x0;c<COL;c++){board[r][c]=VACANT;}}function drawBoard(){const _0x5bd4e7=_0x255c80;for(r=0x0;r<ROW;r++){for(c=0x0;c<COL;c++){board[r][c]!=VACANT?drawSquare(c,r,board[r][c],_0x5bd4e7(0x164)):drawSquare(c,r,board[r][c],_0x5bd4e7(0x18f));}}}drawBoard();let Score=0x0;const PIECES=[[Z,'blue'],[S,'rgb(238,\x20132,\x2046)'],[T,_0x255c80(0x163)],[O,_0x255c80(0x17b)],[L,_0x255c80(0x17a)],[I,'purple'],[J,_0x255c80(0x18b)]];function NewPiece(_0x2eeb80){const _0x1b4cbf=_0x255c80;let _0x29bbcb=randomN=Math[_0x1b4cbf(0x16f)](Math[_0x1b4cbf(0x191)]()*PIECES['length']);return new Piece(PIECES[_0x29bbcb][0x0],PIECES[_0x29bbcb][0x1]);}function nextPiece(){const _0x468565=_0x255c80;return r=Math['floor'](Math[_0x468565(0x191)]()*PIECES['length']),previewPiece=new PreviewPiece(PIECES[r][0x0],PIECES[r][0x1]),xd=r,previewPiece[_0x468565(0x182)](),previewPiece['draw'](),xd;}x=nextPiece();let p=new Piece(PIECES[x][0x0],PIECES[x][0x1]);function Piece(_0x662497,_0x5d638d){const _0x40b4c4=_0x255c80;this[_0x40b4c4(0x159)]=_0x662497,this[_0x40b4c4(0x15c)]=_0x5d638d,this[_0x40b4c4(0x174)]=0x0,this[_0x40b4c4(0x172)]=this['tetromino'][this[_0x40b4c4(0x174)]],this['x']=0x3,this['y']=-0x2,this['draw']=function(){const _0x189d9a=_0x40b4c4;for(r=0x0;r<this[_0x189d9a(0x172)][_0x189d9a(0x184)];r++){for(c=0x0;c<this[_0x189d9a(0x172)]['length'];c++){this[_0x189d9a(0x172)][r][c]&&drawSquare(this['x']+c,this['y']+r,this[_0x189d9a(0x15c)],_0x189d9a(0x164));}}},this[_0x40b4c4(0x16d)]=function(){const _0x35389d=_0x40b4c4;for(r=0x0;r<this['activeTetromino'][_0x35389d(0x184)];r++){for(c=0x0;c<this[_0x35389d(0x172)]['length'];c++){this[_0x35389d(0x172)][r][c]&&ctx[_0x35389d(0x16c)]((this['x']+c)*SQ,(this['y']+r)*SQ,SQ,SQ);}}},this['moveDown']=function(){const _0x419299=_0x40b4c4;!this['collide'](0x0,0x1,this[_0x419299(0x172)])?(this[_0x419299(0x16d)](),this['y']++,this[_0x419299(0x179)]()):(this[_0x419299(0x17c)](),p=new Piece(PIECES[x][0x0],PIECES[x][0x1])),this['y']===-0x1&&(x=nextPiece());},this[_0x40b4c4(0x183)]=function(){const _0x47f0dc=_0x40b4c4;!this[_0x47f0dc(0x186)](0x1,0x0,this['activeTetromino'])&&(this['Clear'](),this['x']++,this[_0x47f0dc(0x179)]());},this['moveLeft']=function(){const _0x1d0234=_0x40b4c4;!this[_0x1d0234(0x186)](-0x1,0x0,this['activeTetromino'])&&(this[_0x1d0234(0x16d)](),this['x']--,this[_0x1d0234(0x179)]());},this[_0x40b4c4(0x16e)]=function(){const _0x46ec0b=_0x40b4c4;let _0x2ec42a=this[_0x46ec0b(0x159)][(this[_0x46ec0b(0x174)]+0x1)%this[_0x46ec0b(0x159)][_0x46ec0b(0x184)]],_0x52ba40=0x0;this[_0x46ec0b(0x186)](0x0,0x0,_0x2ec42a)&&(this['x']>COL/0x2?_0x52ba40=-0x1:_0x52ba40=0x1),!this[_0x46ec0b(0x186)](_0x52ba40,0x0,_0x2ec42a)&&(this[_0x46ec0b(0x16d)](),this['x']+=_0x52ba40,this[_0x46ec0b(0x174)]=(this[_0x46ec0b(0x174)]+0x1)%this[_0x46ec0b(0x159)][_0x46ec0b(0x184)],this['activeTetromino']=this[_0x46ec0b(0x159)][this[_0x46ec0b(0x174)]],this['draw']());},this[_0x40b4c4(0x186)]=function(_0x239607,_0x12a072,_0x1cd97b){const _0xd61e61=_0x40b4c4;for(r=0x0;r<_0x1cd97b['length'];r++){for(c=0x0;c<_0x1cd97b[_0xd61e61(0x184)];c++){if(!_0x1cd97b[r][c])continue;let _0xdece78=this['x']+c+_0x239607,_0x11fef4=this['y']+r+_0x12a072;if(_0xdece78<0x0||_0xdece78>COL||_0x11fef4>=ROW)return!![];if(_0x11fef4<0x0)continue;if(board[_0x11fef4][_0xdece78]!=VACANT)return!![];}}},this[_0x40b4c4(0x17c)]=function(){const _0x991782=_0x40b4c4;for(r=0x0;r<this[_0x991782(0x172)][_0x991782(0x184)];r++){for(c=0x0;c<this[_0x991782(0x172)][_0x991782(0x184)];c++){if(!this[_0x991782(0x172)][r][c])continue;if(this['y']+r<0x0){gameOver=!![];if(gameOver){}break;}board[this['y']+r][this['x']+c]=this[_0x991782(0x15c)];}}for(r=0x0;r<ROW;r++){let _0x2e77ec=!![];for(c=0x0;c<COL;c++){_0x2e77ec=_0x2e77ec&&board[r][c]!=VACANT;}if(_0x2e77ec){for(y=r;y>0x1;y--){for(c=0x0;c<COL;c++){board[y][c]=board[y-0x1][c];}}for(c=0x0;c<COL;c++){board[0x0][c]=VACANT;}Score+=0x64,console['log'](Score);}}ctx[_0x991782(0x16c)](0x0,0x0,canvas[_0x991782(0x168)],canvas[_0x991782(0x170)]),drawBoard();};}let dropStart=Date['now'](),gameOver=![],speed=0x3e8,PrevScore=0x0;function drop(){const _0x31c31e=_0x255c80;let _0x1ccb12=Date[_0x31c31e(0x167)](),_0x19f5d1=_0x1ccb12-dropStart;_0x19f5d1>speed&&(p[_0x31c31e(0x17f)](),dropStart=Date[_0x31c31e(0x167)]()),!gameOver&&requestAnimationFrame(drop),document[_0x31c31e(0x176)]('sc')[_0x31c31e(0x16a)]=Score,Score-PrevScore>0x3e8&&(speed-=0xa,PrevScore=Score);}drop(),document[_0x255c80(0x190)](_0x255c80(0x166),CONTROL);function CONTROL(_0x53d68a){const _0x4a6d32=_0x255c80;if(_0x53d68a[_0x4a6d32(0x16b)]==0x25)!gameOver&&p[_0x4a6d32(0x160)]();else{if(_0x53d68a[_0x4a6d32(0x16b)]==0x26)!gameOver&&p[_0x4a6d32(0x16e)]();else{if(_0x53d68a['keyCode']==0x27)!gameOver&&p[_0x4a6d32(0x183)]();else _0x53d68a[_0x4a6d32(0x16b)]==0x28&&(!gameOver&&(Score++,p['moveDown']()));}}}document['getElementById'](_0x255c80(0x161))[_0x255c80(0x190)](_0x255c80(0x173),function(_0x4781c8){const _0xd890a6=_0x255c80;_0x4781c8['preventDefault'](),p[_0xd890a6(0x16e)](),dropStart=Date['now']();});let TouchX,TouchY,MoveX=0x0,MoveY=0x0,XDiff,YDiff;document[_0x255c80(0x176)](_0x255c80(0x165))[_0x255c80(0x190)](_0x255c80(0x169),function(_0x39cb6a){const _0x3848f7=_0x255c80;TouchX=_0x39cb6a[_0x3848f7(0x180)][0x0][_0x3848f7(0x181)],TouchY=_0x39cb6a[_0x3848f7(0x180)][0x0]['clientY'],document[_0x3848f7(0x176)]('GameArea')[_0x3848f7(0x190)](_0x3848f7(0x18d),function(_0x452b97){const _0x7de6c1=_0x3848f7;_0x452b97[_0x7de6c1(0x18c)](),XDiff=TouchX-MoveX,YDiff=TouchY-MoveY;if(Math[_0x7de6c1(0x15a)](_0x452b97[_0x7de6c1(0x180)][0x0][_0x7de6c1(0x181)]-MoveX)>0xf)Math[_0x7de6c1(0x15a)](XDiff)>Math[_0x7de6c1(0x15a)](YDiff)&&(XDiff<0x0?p['moveRight']():p['moveLeft']());else Math['abs'](_0x452b97[_0x7de6c1(0x180)][0x0][_0x7de6c1(0x17d)]-MoveY)>0x0&&(Math['abs'](XDiff)<Math[_0x7de6c1(0x15a)](YDiff)&&(XDiff<0x0&&(Score++,p[_0x7de6c1(0x17f)]())));MoveX=_0x452b97[_0x7de6c1(0x180)][0x0]['clientX'],MoveY=_0x452b97[_0x7de6c1(0x180)][0x0][_0x7de6c1(0x17d)];},{'passive':![]});},![]);function drawSquarePreview(_0x26b59e,_0x47e152,_0x26676e){const _0x138b10=_0x255c80;pre['fillStyle']=_0x26676e,pre[_0x138b10(0x175)](_0x26b59e*0xf,_0x47e152*0xf,0xf,0xf),pre[_0x138b10(0x17e)]=_0x138b10(0x18a),pre[_0x138b10(0x185)](_0x26b59e*0xf+0x1,_0x47e152*0xf+0x1,0xd,0xd);}function PreviewPiece(_0x7bd576,_0x4dcc98){const _0x121be2=_0x255c80;this[_0x121be2(0x159)]=_0x7bd576,this[_0x121be2(0x15c)]=_0x4dcc98,this[_0x121be2(0x174)]=0x0,this[_0x121be2(0x172)]=this[_0x121be2(0x159)][this[_0x121be2(0x174)]],this['x']=0x0,this['y']=0x0,this[_0x121be2(0x179)]=function(){const _0x4a253e=_0x121be2;for(r=0x0;r<this[_0x4a253e(0x172)][_0x4a253e(0x184)];r++){for(c=0x0;c<this[_0x4a253e(0x172)][_0x4a253e(0x184)];c++){this[_0x4a253e(0x172)][r][c]&&drawSquarePreview(this['x']+c,this['y']+r,this['color']);}}},this['clear']=function(){const _0x5eea0f=_0x121be2;pre[_0x5eea0f(0x16c)](0x0,0x0,preview[_0x5eea0f(0x168)],preview[_0x5eea0f(0x170)]);};}